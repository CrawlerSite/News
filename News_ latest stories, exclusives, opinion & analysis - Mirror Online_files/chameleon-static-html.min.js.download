!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("extend"),e=function(){function a(a){var b=a.split("."),c=0,d=e;for(c;c<b.length;c++)d=d[b[c]];return d}function b(a){d(e,a)}function c(){return e}var e={breakpointType:null,modsForInit:{},modules:{},modulesToIgnore:[],overlayActive:!1,resize:{active:!1,debounceTimer:200,interval:null},scroll:{active:!1,debounceTimer:50,interval:null},tapOrClickEvent:"click",throttleDateTime:null,timings:{debounce:250},windowHeight:document.documentElement.clientHeight,windowTopOffset:null,windowWidth:document.documentElement.clientWidth};return e.breakpoints=[{name:"baseLayout",width:-1},{name:"tabletPortraitUpwards",width:728},{name:"tabletLandscapeUpwards",width:1024},{name:"desktop",width:1240}],{getOption:a,inspect:c,setOption:b}}();b.exports=e},{extend:11}],2:[function(a,b,c){var d=a("../../../src/js/events.js");b.exports=function(){function a(){var a=m(),c="object"==typeof a;c&&a.hasOwnProperty("log")&&b()}function b(){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",window.TMCONFIG.frontendRoot+"/marwood/TM/scss/log.css"),document.querySelector("head").appendChild(a);var b=document.querySelector("BODY"),c="";c+='<div class="inner">',c+="  <h4>Event log</h4>",c+='  <a data-resize="maximize" href="#">Maximize</a>',c+='  <a class="active" data-resize="minimize" href="#">Minimize</a>',c+='  <a data-reset="" href="#">Reset</a>',c+='  <form action="" method="">',c+="    <fieldset>",c+="      <ul>",c+="        <li>",c+='          <label class="filter-information" for="log-information"></label>',c+="          <strong>0</strong>",c+='          <input id="log-information" type="checkbox" checked="checked">',c+="        </li>",c+="        <li>",c+='          <label class="filter-warning" for="log-warning"></label>',c+="          <strong>0</strong>",c+='          <input id="log-warning" type="checkbox" checked="checked">',c+="        </li>",c+="        <li>",c+='          <label class="filter-error" for="log-error"></label>',c+="          <strong>0</strong>",c+='          <input type="checkbox" checked="checked" id="log-error">',c+="        </li>",c+="        <li>",c+='          <label class="filter-override" for="log-override"></label>',c+="          <strong>0</strong>",c+='          <input id="log-override" type="checkbox" checked="checked">',c+="        </li>",c+="      </ul>",c+="    </fieldset>",c+="  </form>",c+="</div>",c+="<ol></ol>";var d=document.createElement("div");if(d.setAttribute("id","log"),d.setAttribute("class","minimize show-information show-warning show-error show-override"),d.innerHTML=c,b.appendChild(d),n.showViewportDimensions){var e=document.createElement("p");e.setAttribute("id","viewport-dimensions"),b.appendChild(e),e.innerHTML=window.innerWidth+"px",window.addEventListener("resize",function(){e.innerHTML=window.innerWidth+"px"})}h("[log.create]"),n.enabled=!0,f()}function c(a){d.delegate(a,"INPUT","click",function(b){var c=this.getAttribute("id").replace("log-",""),d=a.classList.contains("show-"+c)?"visible":"hidden";switch(d){case"visible":a.classList.remove("show-"+c);break;case"hidden":a.classList.add("show-"+c)}})}function e(a){var b=a.querySelector("OL");d.delegate(a,"A[data-resize]","click",function(c){c.preventDefault();var d=this.getAttribute("data-resize");a.classList.remove("minimize"),a.classList.remove("maximize"),a.classList.add(d),b.style.height=n.heights[d],l({message:"[log.eventsInit]: "+d+"d",type:"information"})})}function f(){var a=document.getElementById("log");l({message:"[log.eventsInit]",type:"information"}),c(a),d.delegate(document.getElementById("log"),"A[data-reset]","click",function(a){a.preventDefault(),g()}),e(a)}function g(){var a=document.querySelector("#log OL");a.innerHTML="",a.parentNode.setAttribute("class","minimize show-information show-warning show-error");var b,c=document.querySelectorAll("#log FORM STRONG");for(b=0;b<c.length;b++)c[b].innerHTML="0",c[b].nextElementSibling.setAttribute("checked",!0);l({message:"[log.emptyLog]: debug logger emptied",type:"information"})}function h(a){l({message:a,type:"information"})}function i(a){l({message:a,type:"warning"})}function j(a){l({message:a,type:"error"})}function k(a){l({message:a,type:"override"})}function l(a){if(document.getElementById("log")){var b=document.querySelectorAll("#log OL LI").length,c=document.createElement("LI"),d=document.querySelector("#log OL LI"),e=document.createElement("STRONG");c.setAttribute("class","log-"+a.type),c.innerHTML=b+1+". "+a.message,e.innerHTML=a.type+"&nbsp;",c.appendChild(e),document.querySelector("#log OL").insertBefore(c,d);var f=document.getElementById("log-"+a.type).previousElementSibling,g=f.innerHTML;g++,f.innerHTML=g}}function m(){if(location.search){var a={};try{var b=location.search.replace("?","").split("&");b.forEach(function(b){var c=b.split("=");a[c[0]]=c[1]})}catch(c){j("[log.parseQueryString]: error parsing querystring, description="+c.description)}return a}}var n={enabled:!1,heights:{maximize:"500px",minimize:"250px"},showViewportDimensions:!0};return{emptyLog:g,error:j,information:h,init:a,options:n,override:k,warning:i}}()},{"../../../src/js/events.js":5}],3:[function(a,b,c){b.exports={component:a("./component.js"),config:a("../../config/src/js/config.js"),events:a("./events.js"),log:a("../../log/src/js/log.js")}},{"../../config/src/js/config.js":1,"../../log/src/js/log.js":2,"./component.js":4,"./events.js":5}],4:[function(a,b,c){function d(a){f.fire(a,"component.activate")}function e(a){function b(b){a.init&&a.init(b),b.setAttribute("data-init",!0)}return a=a||{},{init:b}}var f=a("./events.js");b.exports={create:e,activate:d}},{"./events.js":5}],5:[function(a,b,c){b.exports=function(){function a(a){return[].slice.call(a)}function b(a,b,c,d){if(d=d||{},a.addEventListener(b,c),a.dataEvents){var e=a.dataEvents[b];if(e)if(d.purgeEventData)for(;e.length>0;)c.call(a,{data:e.shift(),target:a});else e.forEach(function(b){c.call(a,{data:b,target:a})})}}function c(a,b,c){a.dataEvents=a.dataEvents||{},a.dataEvents[b]=a.dataEvents[b]||[],a.dataEvents[b].push(c)}function d(){"complete"===document.readyState||"loaded"===document.readyState?(c(document,g),c(window,"load")):"interactive"===document.readyState&&c(document,g)}function e(a,b,d){var e;d=d||{},document.createEvent?(e=document.createEvent("HTMLEvents"),e.initEvent(b,!0,!0),e.data=d,a.dispatchEvent(e)):document.createEventObject&&(e=document.createEventObject(),e.data=d,a.fireEvent("on"+b,e)),c(a,b,d)}function f(a){d(),document.addEventListener?b(document,g,a):b(window,"load",a)}var g="DOMContentLoaded",h=function(){function b(a,c,d,e,f,g){if(c===d)return void(g.stopPropagation&&a.stopPropagation());var h=e.indexOf(c);h!==-1&&(f.call(e[h],a),g.preventDefault&&a.preventDefault()),b(a,c.parentNode,d,e,f,g)}function c(b,c,d){return b.concat(a(c.querySelectorAll(d)))}function d(b,c,d){var e=a(c.querySelectorAll(d.substr(1)));return e=e.filter(function(a){return a.parentNode===c}),b.concat(e)}function e(e,f,g,h,i){i=i||{},f=f.split(","),"undefined"==typeof e.length&&(e=[e]),e.forEach||(e=a(e)),e.forEach(function(a){a.addEventListener(g,function(e){var g=[];f.forEach(function(b){g=">"===b.substr(0,1)?d(g,a,b):c(g,a,b)}),b(e,e.target,a,g,h,i)})})}return e}();return{delegate:h,domReady:f,fire:e,listen:b}}()},{}],6:[function(a,b,c){function d(a,b){function c(a,b){n||(p=!!b,n=a,o=m(),o&&e.information("[localStorage] initialized with key: ["+n+"]"))}function d(a,b){var c;if(o&&n){if("string"!=typeof a)return void e.error("[localStorage] key has to be a string");if(c=l()||{},c[a]=b,p)try{q.setItem(n,f.encrypt(JSON.stringify(c),r))}catch(d){e.warning("[localStorage] can't setItem "+d)}else try{q.setItem(n,JSON.stringify(c))}catch(d){e.warning("[localStorage] can't setItem "+d)}}}function g(a){var b,c=null;if(o&&n){b=l();try{c=JSON.parse(b[a])}catch(d){b&&(c=b[a])}return c}}function h(a){var b;if(o&&n){b=l();try{delete b[a],q.setItem(n,JSON.stringify(b))}catch(c){e.warning("Can't delete item:["+a+"] "+c)}}}function i(){var a;if(o&&n)return a=q.getItem(n),p&&(a=f.decrypt(a,r)),a}function j(a){o&&n&&(p&&(a=f.encrypt(a,r)),q.setItem(n,a))}function k(){o&&n&&(q.removeItem(n),n=null)}function l(){var a;if(o&&n){if(a=q.getItem(n),p&&a)try{a=f.decrypt(a,r)}catch(c){e.warning("[localStorage] can't decrypt data "+c),a=""}try{a=JSON.parse(a)}catch(c){e.warning("[localStorage] can't parse data (getData) "+c),a=b.expectObject?{}:null}return a}}function m(){var a="test";if("undefined"==typeof q)return!1;try{return q.setItem(a,a),q.removeItem(a),!0}catch(b){return!1}}var n,o,p,q=window.localStorage,r="window.onresize";return b=b||{},c(a,b.encrypted),{deleteItem:h,destroy:k,getItem:g,getRawData:i,setItem:d,setRawData:j}}var e=a("chameleon-core/log"),f=a("../lib/tea.js");b.exports=d},{"../lib/tea.js":8,"chameleon-core/log":2}],7:[function(a,b,c){var d=a("chameleon-core/config"),e=a("chameleon-core/log"),f=a("promise-polyfill"),g=a("./localstore.js");b.exports=function(){function a(a){var b,c=[],d=a.length;for(b=0;b<d;b++)c[b]=a[b];return c}function b(a){var b=0,c=0,d=null;for(b=a.length-1;b>0;b--)c=Math.floor(Math.random()*(b+1)),d=a[b],a[b]=a[c],a[c]=d;return a}function c(a){a=a||window.innerWidth;var b,c=d.getOption("breakpoints"),e=c.length;for(b=0;b<e;b++)if(a<c[b].width)return c[b-1].name;return c[e-1].name}function h(a){return a.match(/mod-(\S+)/g)[0]}function i(a){return h(a).replace("mod-","")}function j(){return{left:(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0),top:(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}}function k(){return(new Date).getTime().toString()+Math.random().toString().replace(".","-")}function l(a,b,c){if(!a||!b)return void e.error("[utilities.xhr]: missing required pramaeters");c=c||{};try{var d=new XMLHttpRequest;d.open(c.method||"get",a,!c.sync),c.headers&&Object.keys(c.headers).forEach(function(a){d.setRequestHeader(a,c.headers[a])}),d.send(c.data||null),d.onload=function(){4===d.readyState&&(200===d.status?b(d):c.errorCallback&&c.errorCallback(d))}}catch(f){e.information("[utilities.ajax]: error retrieving "+a+", description="+f.description)}}function m(a,b){return new f(function(c,d){if(!a)return e.error("[xhr]: missing required parameters"),void d("missing required parameters");b=b||{};try{var f=new XMLHttpRequest;f.open(b.method||"get",a,!b.sync),b.headers&&Object.keys(b.headers).forEach(function(a){f.setRequestHeader(a,b.headers[a])}),f.send(b.data||null),f.onload=function(){4===f.readyState&&200===f.status?c(f):d(f)}}catch(g){e.information("[ajax]: error retrieving "+a+", description="+g.description),d(g)}})}function n(a,b,c){var d="jsonp"+Math.round(1000001*Math.random());a=a||"",b=b||"",c=c||function(){},"function"==typeof b&&(c=b,b="callback"),window[d]=function(a){c(a),delete window[d]},a+=a.indexOf("?")===-1?"?":"&";var e=document.createElement("script");e.setAttribute("src",a+b+"="+d),document.getElementsByTagName("head")[0].appendChild(e)}function o(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function p(a,b){return a.matches?a.matches(b):a.msMatchesSelector?a.msMatchesSelector(b):!!a.webkitMatchesSelector&&a.webkitMatchesSelector(b)}function q(a,b){for(;!p(a,b);){if(!a.parentNode)return null;a=a.parentNode}return a}function r(a){for(var b=0;null!==(a=a.previousSibling);)1===a.nodeType&&b++;return b}function s(a){if(a){var b,c,d=a.querySelectorAll("script"),e=d.length;for(b=0;b<e;b++)c=document.createElement("script"),d[b].hasAttribute("src")?c.setAttribute("src",d[b].src):c.innerText=d[b].innerText,d[b].parentNode.replaceChild(c,d[b])}}function t(a){return(a=(document.cookie+";").match(new RegExp(a+"=.*;")))&&a[0].split(/=|;/)[1]}return{ajax:l,ajaxPromise:m,debounce:o,findAncestor:q,getBreakpoint:c,getCookie:t,getElementIndex:r,getModClass:h,getModType:i,jsonp:n,log:e,matches:p,nodeListToArray:a,processScripts:s,shuffleArray:b,uid:k,windowOffsets:j,stringify:function(){return""},promise:f,LocalStore:g}}()},{"./localstore.js":6,"chameleon-core/config":1,"chameleon-core/log":2,"promise-polyfill":14}],8:[function(a,b,c){(function(a){"use strict";var c={};c.encrypt=function(a,b){if(a=String(a),b=String(b),0==a.length)return"";var d=c.strToLongs(a.utf8Encode()),e=c.strToLongs(b.utf8Encode().slice(0,16));d.length;d=c.encode(d,e);var f=c.longsToStr(d);return f.base64Encode()},c.decrypt=function(a,b){if(a=String(a),b=String(b),0==a.length)return"";var d=c.strToLongs(a.base64Decode()),e=c.strToLongs(b.utf8Encode().slice(0,16));d.length;d=c.decode(d,e);var f=c.longsToStr(d);return f=f.replace(/\0+$/,""),f.utf8Decode()},c.encode=function(a,b){a.length<2&&(a[1]=0);for(var c,d,e=a.length,f=a[e-1],g=a[0],h=2654435769,i=Math.floor(6+52/e),j=0;i-- >0;){j+=h,d=j>>>2&3;for(var k=0;k<e;k++)g=a[(k+1)%e],c=(f>>>5^g<<2)+(g>>>3^f<<4)^(j^g)+(b[3&k^d]^f),f=a[k]+=c}return a},c.decode=function(a,b){for(var c,d,e=a.length,f=a[e-1],g=a[0],h=2654435769,i=Math.floor(6+52/e),j=i*h;0!=j;){d=j>>>2&3;for(var k=e-1;k>=0;k--)f=a[k>0?k-1:e-1],c=(f>>>5^g<<2)+(g>>>3^f<<4)^(j^g)+(b[3&k^d]^f),g=a[k]-=c;j-=h}return a},c.strToLongs=function(a){for(var b=new Array(Math.ceil(a.length/4)),c=0;c<b.length;c++)b[c]=a.charCodeAt(4*c)+(a.charCodeAt(4*c+1)<<8)+(a.charCodeAt(4*c+2)<<16)+(a.charCodeAt(4*c+3)<<24);return b},c.longsToStr=function(a){for(var b=new Array(a.length),c=0;c<a.length;c++)b[c]=String.fromCharCode(255&a[c],a[c]>>>8&255,a[c]>>>16&255,a[c]>>>24&255);return b.join("")},"undefined"==typeof String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),"undefined"==typeof String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(a){return this}}),"undefined"==typeof String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if("undefined"!=typeof a)return new a(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),"undefined"==typeof String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if("undefined"!=typeof a)return new a(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),b.exports=c}).call(this,a("buffer").Buffer)},{buffer:10}],9:[function(a,b,c){"use strict";function d(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function e(a){return 3*a.length/4-d(a)}function f(a){var b,c,e,f,g,h,i=a.length;g=d(a),h=new l(3*i/4-g),e=g>0?i-4:i;var j=0;for(b=0,c=0;b<e;b+=4,c+=3)f=k[a.charCodeAt(b)]<<18|k[a.charCodeAt(b+1)]<<12|k[a.charCodeAt(b+2)]<<6|k[a.charCodeAt(b+3)],h[j++]=f>>16&255,h[j++]=f>>8&255,h[j++]=255&f;return 2===g?(f=k[a.charCodeAt(b)]<<2|k[a.charCodeAt(b+1)]>>4,h[j++]=255&f):1===g&&(f=k[a.charCodeAt(b)]<<10|k[a.charCodeAt(b+1)]<<4|k[a.charCodeAt(b+2)]>>2,h[j++]=f>>8&255,h[j++]=255&f),h}function g(a){return j[a>>18&63]+j[a>>12&63]+j[a>>6&63]+j[63&a]}function h(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16)+(a[f+1]<<8)+a[f+2],e.push(g(d));return e.join("")}function i(a){for(var b,c=a.length,d=c%3,e="",f=[],g=16383,i=0,k=c-d;i<k;i+=g)f.push(h(a,i,i+g>k?k:i+g));return 1===d?(b=a[c-1],e+=j[b>>2],e+=j[b<<4&63],e+="=="):2===d&&(b=(a[c-2]<<8)+a[c-1],e+=j[b>>10],e+=j[b>>4&63],e+=j[b<<2&63],e+="="),f.push(e),f.join("")}c.byteLength=e,c.toByteArray=f,c.fromByteArray=i;for(var j=[],k=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=m.length;n<o;++n)j[n]=m[n],k[m.charCodeAt(n)]=n;k["-".charCodeAt(0)]=62,k["_".charCodeAt(0)]=63},{}],10:[function(a,b,c){(function(b){"use strict";function d(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(b){return!1}}function e(){return g.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a,b){if(e()<b)throw new RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=g.prototype):(null===a&&(a=new g(b)),a.length=b),a}function g(a,b,c){if(!(g.TYPED_ARRAY_SUPPORT||this instanceof g))return new g(a,b,c);if("number"==typeof a){if("string"==typeof b)throw new Error("If encoding is specified then the first argument must be a string");return k(this,a)}return h(this,a,b,c)}function h(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?n(a,b,c,d):"string"==typeof b?l(a,b,c):o(a,b)}function i(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative')}function j(a,b,c,d){return i(b),b<=0?f(a,b):void 0!==c?"string"==typeof d?f(a,b).fill(c,d):f(a,b).fill(c):f(a,b)}function k(a,b){if(i(b),a=f(a,b<0?0:0|p(b)),!g.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function l(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!g.isEncoding(c))throw new TypeError('"encoding" must be a valid string encoding');var d=0|r(b,c);a=f(a,d);var e=a.write(b,c);return e!==d&&(a=a.slice(0,e)),a}function m(a,b){var c=b.length<0?0:0|p(b.length);a=f(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function n(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),g.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=g.prototype):a=m(a,b),a}function o(a,b){if(g.isBuffer(b)){var c=0|p(b.length);return a=f(a,c),0===a.length?a:(b.copy(a,0,0,c),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||Y(b.length)?f(a,0):m(a,b);if("Buffer"===b.type&&_(b.data))return m(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function q(a){return+a!=a&&(a=0),g.alloc(+a)}function r(a,b){if(g.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return T(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return W(a).length;default:if(d)return T(a).length;b=(""+b).toLowerCase(),d=!0}}function s(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return H(this,b,c);case"utf8":case"utf-8":return D(this,b,c);case"ascii":return F(this,b,c);case"latin1":case"binary":return G(this,b,c);case"base64":return C(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function t(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function u(a,b,c,d,e){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return-1;c=a.length-1}else if(c<0){if(!e)return-1;c=0}if("string"==typeof b&&(b=g.from(b,d)),g.isBuffer(b))return 0===b.length?-1:v(a,b,c,d,e);if("number"==typeof b)return b=255&b,g.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):v(a,[b],c,d,e);throw new TypeError("val must be string, number or Buffer")}function v(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;if(void 0!==d&&(d=String(d).toLowerCase(),"ucs2"===d||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,k===-1?0:j-k)){if(k===-1&&(k=j),j-k+1===i)return k*g}else k!==-1&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){l=!1;break}if(l)return j}return-1}function w(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))return g;a[c+g]=h}return g}function x(a,b,c,d){return X(T(b,a.length-c),a,c,d)}function y(a,b,c,d){return X(U(b),a,c,d)}function z(a,b,c,d){return y(a,b,c,d)}function A(a,b,c,d){return X(W(b),a,c,d)}function B(a,b,c,d){return X(V(b,a.length-c),a,c,d)}function C(a,b,c){return 0===b&&c===a.length?Z.fromByteArray(a):Z.fromByteArray(a.slice(b,c))}function D(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(l<55296||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&l<1114112&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return E(d)}function E(a){var b=a.length;if(b<=aa)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=aa));return c}function F(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function G(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function H(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=S(a[f]);return e}function I(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function J(a,b,c){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function K(a,b,c,d,e,f){if(!g.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<f)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}function L(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function M(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function N(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function O(a,b,c,d,e){return e||N(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(a,b,c,d,23,4),c+4}function P(a,b,c,d,e){return e||N(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(a,b,c,d,52,8),c+8}function Q(a){if(a=R(a).replace(ba,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function S(a){return a<16?"0"+a.toString(16):a.toString(16)}function T(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if(c=a.charCodeAt(g),c>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function U(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function V(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function W(a){return Z.toByteArray(Q(a))}function X(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function Y(a){return a!==a}var Z=a("base64-js"),$=a("ieee754"),_=a("isarray");c.Buffer=g,c.SlowBuffer=q,c.INSPECT_MAX_BYTES=50,g.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:d(),c.kMaxLength=e(),g.poolSize=8192,g._augment=function(a){return a.__proto__=g.prototype,a},g.from=function(a,b,c){return h(null,a,b,c)},g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0})),g.alloc=function(a,b,c){return j(null,a,b,c)},g.allocUnsafe=function(a){return k(null,a)},g.allocUnsafeSlow=function(a){return k(null,a)},g.isBuffer=function(a){return!(null==a||!a._isBuffer)},g.compare=function(a,b){if(!g.isBuffer(a)||!g.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,f=Math.min(c,d);e<f;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0},g.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(a,b){if(!_(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return g.alloc(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=g.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var f=a[c];if(!g.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(d,e),e+=f.length}return d},g.byteLength=r,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)t(this,b,b+1);return this},g.prototype.swap32=function(){var a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)t(this,b,b+3),t(this,b+1,b+2);return this},g.prototype.swap64=function(){var a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)t(this,b,b+7),t(this,b+1,b+6),t(this,b+2,b+5),t(this,b+3,b+4);return this},g.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?D(this,0,a):s.apply(this,arguments)},g.prototype.equals=function(a){if(!g.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===g.compare(this,a)},g.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},g.prototype.compare=function(a,b,c,d,e){if(!g.isBuffer(a))throw new TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw new RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return-1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;for(var f=e-d,h=c-b,i=Math.min(f,h),j=this.slice(d,e),k=a.slice(b,c),l=0;l<i;++l)if(j[l]!==k[l]){f=j[l],h=k[l];break}return f<h?-1:h<f?1:0},g.prototype.includes=function(a,b,c){return this.indexOf(a,b,c)!==-1},g.prototype.indexOf=function(a,b,c){return u(this,a,b,c,!0)},g.prototype.lastIndexOf=function(a,b,c){return u(this,a,b,c,!1)},g.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return w(this,a,b,c);case"utf8":case"utf-8":return x(this,a,b,c);case"ascii":return y(this,a,b,c);case"latin1":case"binary":return z(this,a,b,c);case"base64":return A(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var aa=4096;g.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c,a<0&&(a=0)):a>c&&(a=c),b<0?(b+=c,b<0&&(b=0)):b>c&&(b=c),b<a&&(b=a);var d;if(g.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=g.prototype;else{var e=b-a;d=new g(e,(void 0));for(var f=0;f<e;++f)d[f]=this[f+a]}return d},g.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||J(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},g.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||J(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},g.prototype.readUInt8=function(a,b){return b||J(a,1,this.length),this[a]},g.prototype.readUInt16LE=function(a,b){return b||J(a,2,this.length),this[a]|this[a+1]<<8},g.prototype.readUInt16BE=function(a,b){return b||J(a,2,this.length),this[a]<<8|this[a+1]},g.prototype.readUInt32LE=function(a,b){return b||J(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},g.prototype.readUInt32BE=function(a,b){return b||J(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},g.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||J(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},g.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||J(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},g.prototype.readInt8=function(a,b){return b||J(a,1,this.length),128&this[a]?(255-this[a]+1)*-1:this[a]},g.prototype.readInt16LE=function(a,b){b||J(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},g.prototype.readInt16BE=function(a,b){b||J(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},g.prototype.readInt32LE=function(a,b){return b||J(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},g.prototype.readInt32BE=function(a,b){return b||J(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},g.prototype.readFloatLE=function(a,b){return b||J(a,4,this.length),$.read(this,a,!0,23,4)},g.prototype.readFloatBE=function(a,b){return b||J(a,4,this.length),$.read(this,a,!1,23,4)},g.prototype.readDoubleLE=function(a,b){return b||J(a,8,this.length),$.read(this,a,!0,52,8)},g.prototype.readDoubleBE=function(a,b){return b||J(a,8,this.length),$.read(this,a,!1,52,8)},g.prototype.writeUIntLE=function(a,b,c,d){
if(a=+a,b=0|b,c=0|c,!d){var e=Math.pow(2,8*c)-1;K(this,a,b,c,e,0)}var f=1,g=0;for(this[b]=255&a;++g<c&&(f*=256);)this[b+g]=a/f&255;return b+c},g.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b=0|b,c=0|c,!d){var e=Math.pow(2,8*c)-1;K(this,a,b,c,e,0)}var f=c-1,g=1;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=a/g&255;return b+c},g.prototype.writeUInt8=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,1,255,0),g.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},g.prototype.writeUInt16LE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):L(this,a,b,!0),b+2},g.prototype.writeUInt16BE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):L(this,a,b,!1),b+2},g.prototype.writeUInt32LE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):M(this,a,b,!0),b+4},g.prototype.writeUInt32BE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):M(this,a,b,!1),b+4},g.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);K(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},g.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);K(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},g.prototype.writeInt8=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,1,127,-128),g.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},g.prototype.writeInt16LE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):L(this,a,b,!0),b+2},g.prototype.writeInt16BE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):L(this,a,b,!1),b+2},g.prototype.writeInt32LE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):M(this,a,b,!0),b+4},g.prototype.writeInt32BE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):M(this,a,b,!1),b+4},g.prototype.writeFloatLE=function(a,b,c){return O(this,a,b,!0,c)},g.prototype.writeFloatBE=function(a,b,c){return O(this,a,b,!1,c)},g.prototype.writeDoubleLE=function(a,b,c){return P(this,a,b,!0,c)},g.prototype.writeDoubleBE=function(a,b,c){return P(this,a,b,!1,c)},g.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,f=d-c;if(this===a&&c<b&&b<d)for(e=f-1;e>=0;--e)a[e+b]=this[e+c];else if(f<1e3||!g.TYPED_ARRAY_SUPPORT)for(e=0;e<f;++e)a[e+b]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+f),b);return f},g.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var e=a.charCodeAt(0);e<256&&(a=e)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!g.isEncoding(d))throw new TypeError("Unknown encoding: "+d)}else"number"==typeof a&&(a=255&a);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var f;if("number"==typeof a)for(f=b;f<c;++f)this[f]=a;else{var h=g.isBuffer(a)?a:T(new g(a,d).toString()),i=h.length;for(f=0;f<c-b;++f)this[f+b]=h[f%i]}return this};var ba=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":9,ieee754:12,isarray:13}],11:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString,f=function(a){return"function"==typeof Array.isArray?Array.isArray(a):"[object Array]"===e.call(a)},g=function(a){if(!a||"[object Object]"!==e.call(a))return!1;var b=d.call(a,"constructor"),c=a.constructor&&a.constructor.prototype&&d.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var f;for(f in a);return"undefined"==typeof f||d.call(a,f)};b.exports=function h(){var a,b,c,d,e,i,j=arguments[0],k=1,l=arguments.length,m=!1;for("boolean"==typeof j?(m=j,j=arguments[1]||{},k=2):("object"!=typeof j&&"function"!=typeof j||null==j)&&(j={});k<l;++k)if(a=arguments[k],null!=a)for(b in a)c=j[b],d=a[b],j!==d&&(m&&d&&(g(d)||(e=f(d)))?(e?(e=!1,i=c&&f(c)?c:[]):i=c&&g(c)?c:{},j[b]=h(m,i,d)):"undefined"!=typeof d&&(j[b]=d));return j}},{}],12:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],13:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],14:[function(a,b,c){!function(a){function c(){}function d(a,b){return function(){a.apply(b,arguments)}}function e(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k(a,this)}function f(a,b){for(;3===a._state;)a=a._value;return 0===a._state?void a._deferreds.push(b):(a._handled=!0,void m(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?g:h)(b.promise,a._value);var d;try{d=c(a._value)}catch(e){return void h(b.promise,e)}g(b.promise,d)}))}function g(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if(b instanceof e)return a._state=3,a._value=b,void i(a);if("function"==typeof c)return void k(d(c,b),a)}a._state=1,a._value=b,i(a)}catch(f){h(a,f)}}function h(a,b){a._state=2,a._value=b,i(a)}function i(a){2===a._state&&0===a._deferreds.length&&m(function(){a._handled||n(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)f(a,a._deferreds[b]);a._deferreds=null}function j(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function k(a,b){var c=!1;try{a(function(a){c||(c=!0,g(b,a))},function(a){c||(c=!0,h(b,a))})}catch(d){if(c)return;c=!0,h(b,d)}}var l=setTimeout,m="function"==typeof setImmediate&&setImmediate||function(a){l(a,0)},n=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};e.prototype["catch"]=function(a){return this.then(null,a)},e.prototype.then=function(a,b){var d=new this.constructor(c);return f(this,new j(a,b,d)),d},e.all=function(a){var b=Array.prototype.slice.call(a);return new e(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0===--e&&a(b)}catch(i){c(i)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},e.resolve=function(a){return a&&"object"==typeof a&&a.constructor===e?a:new e(function(b){b(a)})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},e._setImmediateFn=function(a){m=a},e._setUnhandledRejectionFn=function(a){n=a},"undefined"!=typeof b&&b.exports?b.exports=e:a.Promise||(a.Promise=e)}(this)},{}],15:[function(a,b,c){"use strict";function d(){q.information("[header.init]"),e(),h(),f(),window.orientation?window.addEventListener("orientationchange",r.debounce(function(){n()},1)):(window.addEventListener("resize.start",m),window.addEventListener("resize.stop",n)),n(),document.addEventListener("sso.loginbar.initialization",function(){n()}),document.addEventListener("weather.widget.initialization",function(){var a=u.domElements.primaryNavigationNode,b=u.domElements.secondaryNavigationNode,c=[{refNode:document.querySelector(".mod-header>.primary nav section"),sectionNode:a&&a.querySelector("section")},{refNode:document.querySelector(".mod-header>nav.secondary section"),sectionNode:b&&b.querySelector("section")}];c.forEach(function(a){var b=a.refNode&&a.refNode.firstChild;if(b&&b.classList.contains("partner")){var c=a.sectionNode&&a.sectionNode.firstChild;c&&!c.classList.contains("partner")&&a.sectionNode.insertBefore(b,c)}}),n()})}function e(){"undefined"!=typeof localDataOverrides&&localDataOverrides.hasOwnProperty("header")&&(q.override("[header.assignLocalDataOverrides]"),u=s(u,localDataOverrides.header))}function f(){function a(){c.classList.remove("open"),document.querySelector(".mod-header .search-box").classList.add("hidden")}q.information("[header.eventsInit]"),p.delegate(u.domElements.headerObj,'[data-level="1"]>.has-children',"mouseover",function(a){a.preventDefault();var b=this.querySelector("a");b.nextElementSibling.classList.add("open");var c=b.offsetLeft,d=b.offsetWidth,e=b.nextElementSibling,f=e.offsetWidth;e.style.left=Math.round(c+d/2-f/2)+"px"}),p.delegate(u.domElements.headerObj,".has-children","mouseout",function(a){a.preventDefault();var b=this.querySelector("a");b.nextElementSibling.classList.remove("open")}),p.delegate(u.domElements.headerObj,".has-child-group>a.toggle","click",function(a){a.preventDefault(),this.classList.toggle("expanded"),this.previousElementSibling.classList.toggle("open")}),p.delegate(document.body,"#header-dropdown .has-children .toggle","click",function(a){a.preventDefault();var b=this.parentNode,c=b.hasAttribute("data-children-visible");c?b.removeAttribute("data-children-visible"):b.setAttribute("data-children-visible",!0),this.classList.toggle("expanded")}),p.delegate(document.body,"#header-dropdown","mouseleave",function(){n()}),p.delegate(u.domElements.headerObj,".partner.click-track","data.impression.tracking",function(){var a=u.domElements.secondaryNavigationNode.querySelector(".partner.click-track"),b=u.domElements.primaryNavigationNode.querySelector(".partner.click-track");a&&a.setAttribute("data-tracked",!0),b&&b.setAttribute("data-tracked",!0)}),p.delegate(document.body,".secondary ul.click-track","data.impression.tracking",function(){var a=u.domElements.secondaryNavigationNode.querySelector("ul.click-track");a.setAttribute("data-tracked",!0)});var b=document.getElementById("hamburger");b.addEventListener("click",function(a){a.preventDefault();var b=document.getElementById("header-dropdown");g(),b.classList.toggle("active");var c=u.domElements.headerObj.querySelector("div.primary").getBoundingClientRect().bottom,d=window.innerHeight-c;b.style.top=c+"px",b.style.height=d+"px",document.body.classList.toggle("no-scroll")});var c=document.querySelector(".mod-header .search");c&&(c.querySelector("button").addEventListener("click",function(a){a.preventDefault(),a.stopPropagation(),c.classList.toggle("open"),document.querySelector(".mod-header .search-box").classList.toggle("hidden")}),document.querySelector(".mod-header .search-box").addEventListener("click",function(a){a.stopPropagation()}),document.body.addEventListener("click",function(){a()}),document.querySelector("nav.primary").addEventListener("mouseover",function(){a()}))}function g(){q.information("[header.toggleExpandedState]");var a=u.domElements.headerObj.hasAttribute("data-expanded");a?u.domElements.headerObj.removeAttribute("data-expanded"):u.domElements.headerObj.setAttribute("data-expanded",!0)}function h(){q.information("[header.storeDomNavigationNodes]"),u.domElements.headerObj=document.querySelector(".mod-header");var a=document.createElement("nav");a.classList.add("primary");var b=document.createElement("section");b.innerHTML=document.querySelector(".mod-header>.primary nav section").innerHTML,a.appendChild(b),u.domElements.primaryNavigationNode=a,i("secondary"),u.containsSecondaryNavigation&&u.domElements.headerObj.setAttribute("data-has-secondary-navigation",!0),i("footer")}function i(a){q.information("[header.createDomNodeReferenceObj]: navigationType="+a);var b=document.querySelector(".mod-header>nav."+a+" section");if(null!==b){var c=document.createElement("nav");c.classList.add(a),c.appendChild(b),u.domElements[a+"NavigationNode"]=c,u["contains"+(a.charAt(0).toUpperCase()+a.substr(1))+"Navigation"]=!0}}function j(){q.information("[header.updateMoreNavigationGroup]");var a=u.domElements.headerObj.offsetWidth,b=document.querySelector(".mod-header>.primary nav").offsetWidth,c=document.getElementById("logo"),d=c.offsetWidth,e=u.domElements.headerObj.querySelector(".social-sites"),f=e.offsetWidth,g=e.currentStyle||window.getComputedStyle(e);f+=parseInt(g.marginRight);var h=u.domElements.headerObj.querySelector(".search"),i=h?h.offsetWidth:0,j=document.getElementById("signin"),l=0;j&&(l=j.offsetWidth);var m=d+l+f+i,n=a-m;b>=n&&k(n)}function k(a){q.information("[header.attachNavigationItemsToMoreLink]: remainingSpace="+a);var b=document.querySelector(".mod-header>.primary section>ul"),c=document.createElement("li");c.classList.add("has-children","more"),c.innerHTML="<a href='#'>More</a>";var d=document.createElement("ul");d.setAttribute("data-level",2),c.appendChild(d),b.appendChild(c);var e,f,g,h,i=r.nodeListToArray(document.querySelectorAll(".mod-header>.primary section>ul>li"));for(e=i.length-2;e>-1&&(h=document.querySelector(".mod-header>.primary nav").offsetWidth,h>=a);e--)f=i[e],f.classList.contains("has-children")&&(f.classList.remove("has-children"),f.classList.add("has-child-group")),g=f.innerHTML,g=g.replace(/data-level="2"/g,'data-level="3"'),g=g.replace(/has-children/g,"has-child-group"),f.innerHTML=g,d.insertBefore(f,d.firstChild)}function l(){q.information("[header.buildDropdownContent]");var a=document.createElement("div");a.setAttribute("id","header-dropdown"),a.setAttribute("data-smooth-scroll","data-smooth-scroll"),a.appendChild(u.domElements.primaryNavigationNode),u.containsSecondaryNavigation&&(u.domElements.secondaryNavigationNode.classList.add("publication-theme-border"),a.appendChild(u.domElements.secondaryNavigationNode)),u.containsFooterNavigation&&a.appendChild(u.domElements.footerNavigationNode),document.body.appendChild(a)}function m(){q.information("[header.removeDropdownContainer]");var a=document.getElementById("header-dropdown");a&&document.body.removeChild(a),u.domElements.headerObj.removeAttribute("data-expanded")}function n(){q.information("[header.reset]");var a,b,c=document.querySelector(".mod-header>.primary nav"),d=u.domElements.primaryNavigationNode.innerHTML;u.containsSecondaryNavigation&&(b=document.querySelector(".mod-header>.secondary"),a=u.domElements.secondaryNavigationNode.innerHTML),m();var e=r.getBreakpoint();u.customLayouts.indexOf(e)!==-1&&(u.containsSecondaryNavigation&&(a=d),l()),c.innerHTML=d,u.containsSecondaryNavigation&&(b.innerHTML=a),j();var f=document.getElementById("hamburger");f.classList.remove("active"),document.body.classList.remove("no-scroll"),p.fire(document,"header.reset.complete")}var o=a("@trinitymirrordigital/chameleon-core"),p=o.events,q=o.log,r=a("@trinitymirrordigital/chameleon-utilities"),s=a("extend"),t=o.component,u={containsFooterNavigation:!1,containsSecondaryNavigation:!1,customLayouts:["baseLayout","phoneLargeUpwards","tabletPortraitUpwards"],domElements:{footerNavigationNode:null,headerObj:null,primaryNavigationNode:null,secondaryNavigationNode:null}},v=t.create({init:d});b.exports=v},{"@trinitymirrordigital/chameleon-core":3,"@trinitymirrordigital/chameleon-utilities":7,extend:11}],16:[function(a,b,c){"use strict";var d=a("@trinitymirrordigital/chameleon-core").events,e={header:a("./../header/js/header.js")};d.fire(window,"component.register",{components:e}),d.fire(window,"component.register",{components:"footer"})},{"./../header/js/header.js":15,"@trinitymirrordigital/chameleon-core":3}]},{},[16]);
//# sourceMappingURL=chameleon-static-html.min.js.map